## Go

- C 言語の構文を意識しつつ、より簡素な文法でコーディングできる
- UNIX の開発者も関わってる
  - 思想が出てくる
- 場面
  - コマンドライン
  - ウェブ API
  - バックエンドジョブ
  - 広告はいsん
  - ハードウェア制御
  - 機械学習
- 特徴
  - 静的型付け
  - スタティックバイナリ
    - 依存ライブラリが少なく、ポータブル
  - C っぽい書き味でありながら、GC がある
  - 非同期を簡単に扱えるランタイム
    - gorouine, channel

### Explicit is better than implicit

Go のエラー処理は冗長？

- Go は例外を扱わない
- result type を扱わない
- Go でバグを生み出さないコツ
  - 全ての error を明示的に対処し、暗黙をなくす
  - error をうけとったら、処理を中断し呼び出し元へ返す
- 曖昧さを与えずに、明示的に開発者がコードで意思決定するプログラミングを目指す
- 厳密さや簡潔さをもたらすので、本来シェルで実装を済ませるようなものを、Go で実装することもある
  - 環境変数がなかった時の処理とか
  - エスケープの部分とか
    - windows とか
  - 型があるのは安心して使える

### 非同期プログラミング

- 非同期にする予定ではなかった設計を、割と簡単に非同期にできる！
- CSP
- 並列と並行は異なる
  - Go はスレッドを監視し、必要に応じて新しいスレッドを起動する
  - goroutine は CPU コアに固定されない
    - 空いたコアが次を担当
- CPU のコア数の応じてスケールする
  - クラウドに向いている！

### 1.21

- min/max
  - ASCII の中での話か
- clear
  - slice, map で
  - スライスの長さは変わらない
  - 配列は渡せないのか
- loopvar
  - `GOEXPERIMENT=loopvar`
    - 影響度合を調査している段階
- pgo
  - コンパイラによるプロファイルベースの最適化
  - pprof
- slog
  - 構造化ログ
    - スレッドセーフ
    - 出力先変更可能
    - 有効無効切り替え可
- maps
  - Keys
  - Values
  - DeleteFunc
- slices
  - Delete
  - Reverse
  - BinarySearch
  - Contains
- wasi
  - Go の wasm は実行環境がブラウザ依存だった
  - wasi: WebAssembly System Interface をサポート
    - wasmer, wasm/wasi ランタイムから実行可能に！
  - go:wasmimport されたものは、wasi であることを意識しなくていい！！！

## session

- Go が向いてるのは？
  - CPU バウンドではなく、IO バウンドな内容に関しては、向いている
    - CPU 負荷の場合はあんまり良くないかも
- コードリーディングにおすすめ
  - kubenetes 関連のコードはあんまり良くないかも
  - 標準ライブラリか
- deploy container
  - https://fly.io/
  - https://vercel.com/
    - routine が特殊
    - 実行時にコンパイルしてるかも、少し遅い
- logging
  - 速いにこしたことはない
  - 下位互換性を保つことのほうが大事
    - Go の標準ライブラリは安全
- echo
  - 企業が作ってるのでドキュメントがしっかりしてる
- プロダクトのアップデート考慮
  - os.Read とか、新しいのに合わせてもいい
    - 問題ないと思う
  - こまめにアップデートする
